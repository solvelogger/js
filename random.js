function getrandom(x) { var h = x.feed.entry[0]; for (var j = 0; j < h.link.length; ++j) { if (h.link[j].rel == 'alternate') { var z = h.link[j].href; } } document.getElementById('rbutton').href = z; } function random(s) { var total = parseInt(s.feed.openSearch$totalResults.$t, 10), randomchoice = Math.round(Math.random() * total), c = document.createElement('script'); c.src = '/feeds/posts/summary?max-results=1&start-index=' + randomchoice + '&alt=json-in-script&callback=getrandom'; c.type = 'text/javascript'; document.getElementsByTagName('head')[0].appendChild(c); } (function () { var e = document.createElement('script'); e.src = '/feeds/posts/summary?max-results=0&alt=json-in-script&callback=random'; e.type = 'text/javascript'; document.getElementsByTagName('head')[0].appendChild(e); })();